(window.webpackJsonp=window.webpackJsonp||[]).push([[44,5,15,17,22],{393:function(t,e,n){"use strict";n.r(e);var r=n(139),o=n.n(r),l={props:{type:{type:String,default:"primary"}},computed:{computedStyle:function(){return{background:o.a[this.type].background,color:o.a[this.type].color}}},mounted:function(){this.button=this.$refs.button}},d=n(28),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("button",{ref:"button",staticClass:"b:0 p:8|16 w:100% border-radius:4 cursor:pointer transform:translateY(-2):hover transition:0.2s",style:t.computedStyle,on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(393).default})},394:function(t,e,n){"use strict";n.r(e);n(254);var r=n(139),o=n.n(r),l={props:{field:{type:String,default:""},type:{type:String,default:"text"},value:{default:""},placeholder:{type:String,default:""},error:{default:null},required:{type:Boolean,default:!1},maxlength:{type:Number,default:null},disabled:{type:Boolean,default:!1}},mounted:function(){this.input=this.$refs.input},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},d=n(28),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+" :\n  ")]):t._e(),t._v(" "),e("input",{ref:"input",style:t.computedStyle,attrs:{type:t.type,placeholder:t.placeholder,required:t.required,maxlength:t.maxlength,disabled:t.disabled},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])}),[],!1,null,null,null);e.default=component.exports},395:function(t,e,n){"use strict";n.r(e);n(25),n(21),n(34),n(9),n(44),n(29),n(45);var r=n(13);n(74);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=n(139),c=n.n(d),f={props:{field:{type:String,default:""},error:{default:null}},data:function(){return{COLORS:c.a}},computed:{computedErrorStyle:function(){return{color:c.a.negative.background}}}},m=n(28),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my:8"},[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+"\n  ")]):t._e(),t._v(" "),t._t("default",null,null,l(l({},t.$props),t.$attrs)),t._v(" "),t.error?e("div",{staticClass:"font-size:0.8rem mt:4",style:t.computedErrorStyle},[t._v("\n    "+t._s(t.error.join("\n"))+"\n  ")]):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},396:function(t,e,n){"use strict";n.r(e);var r=n(139),o=n.n(r),l={props:{field:{type:String,default:""},value:{default:""},error:{default:null},required:{type:Boolean,default:!1}},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},d=n(28),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",[t.field?e("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[t._v("\n    "+t._s(t.field)+" :\n  ")]):t._e(),t._v(" "),e("select",{style:t.computedStyle,attrs:{required:t.required},domProps:{value:t.value},on:{change:function(e){return t.$emit("input",e.target.value)}}},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Select:n(396).default})},501:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(22),n(73)),l=n(75),d=n.n(l),c={layout:"admin",components:{},data:function(){return{loading:!1,config:d.a.getConfig(),form:{attendee:null,task_history_point:null,task_history_data:null,task_id:null},tasks:[],attendee:null,histories:[]}},mounted:function(){this.getTasks()},methods:{getTasks:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/admin/tasks").then((function(e){t.tasks=e.data.tasks})).catch((function(t){o.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},getAttendee:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/admin/taskHistory/attendee",{params:{attendee_id:t.form.attendee,attendee_no:t.form.attendee}}).then((function(e){t.attendee=e.data.attendee,t.histories=e.data.histories.reverse()})).catch((function(t){o.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},plugMinusPointToAttendee:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]&&t[0],e.loading=!0,n.next=4,e.$axios.post("/api/admin/taskHistory/attendee/"+e.attendee.attendee_id,{task_history_point:e.form.task_history_point*(r?-1:1),task_history_data:e.form.task_history_data}).then((function(t){o.a.showSnackbar({message:e.$t("admin.tasks.manualPlusMinusPoint.messages.plusSucceed"),colorType:"positive"}),e.getAttendee()})).catch((function(t){o.a.showRequestError(t)}));case 4:e.loading=!1;case 5:case"end":return n.stop()}}),n)})))()},claimTaskPoints:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.post("/api/admin/taskHistory/attendee/"+t.attendee.attendee_id+"/task/"+t.form.task_id).then((function(e){o.a.showSnackbar({message:t.$t("admin.tasks.manualPlusMinusPoint.messages.claimTaskPointsSucceed"),colorType:"positive"}),t.getAttendee()})).catch((function(t){o.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},f=c,m=n(28),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p:16 overflow:auto"},[e("div",{staticClass:"font-size:2rem"},[t._v("\n    "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.title"))+"\n  ")]),t._v(" "),e("Loading",{attrs:{value:t.loading}}),t._v(" "),e("div",{staticClass:"flex w:100% flex-direction:column@<md"},[e("div",{staticClass:"mt:16 w:50% w:100%@<md"},[e("Field",{attrs:{field:t.$t("admin.tasks.manualPlusMinusPoint.fields.attendee")}},[e("InputText",{model:{value:t.form.attendee,callback:function(e){t.$set(t.form,"attendee",e)},expression:"form.attendee"}})],1),t._v(" "),e("Button",{on:{click:t.getAttendee}},[t._v("\n        "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.buttons.searchAttendee"))+"\n      ")]),t._v(" "),t.attendee?e("div",[e("div",{staticClass:"mt:16"},[e("div",{staticClass:"font-size:1.5rem"},[t._v("\n            "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.attendee_info"))+"\n            :\n            "+t._s(t.attendee.attendee_id)+"\n          ")]),t._v(" "),e("div",{staticClass:"mt:8"},[e("div",{staticClass:"font-size:1.2rem"},[t._v("\n              "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.attendee_no"))+"\n              :\n              "+t._s(t.attendee.attendee_no)+"\n            ")]),t._v(" "),e("div",{staticClass:"font-size:1.2rem mt:8"},[t._v("\n              "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.attendee_nickname"))+"\n              : "+t._s(t.attendee.attendee_nickname)+"\n            ")]),t._v(" "),e("div",{staticClass:"font-size:1.2rem mt:8"},[t._v("\n              "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.attendee_points"))+"\n              :\n              "+t._s(t.attendee.attendee_points)+"\n            ")])])]),t._v(" "),e("Field",{attrs:{field:t.$t("admin.tasks.manualPlusMinusPoint.fields.task_history_point")}},[e("InputText",{attrs:{type:"number",min:"0",max:"2147483647"},model:{value:t.form.task_history_point,callback:function(e){t.$set(t.form,"task_history_point",e)},expression:"form.task_history_point"}})],1),t._v(" "),e("Field",{attrs:{field:t.$t("admin.tasks.manualPlusMinusPoint.fields.task_history_data")}},[e("InputText",{model:{value:t.form.task_history_data,callback:function(e){t.$set(t.form,"task_history_data",e)},expression:"form.task_history_data"}})],1),t._v(" "),e("div",{staticClass:"flex"},[e("Button",{staticClass:"w:100% m:2",on:{click:t.plugMinusPointToAttendee}},[t._v("\n            "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.buttons.plusPoints"))+"\n          ")]),t._v(" "),e("Button",{staticClass:"w:100% m:2",attrs:{type:"negative"},on:{click:function(e){return t.plugMinusPointToAttendee(!0)}}},[t._v("\n            "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.buttons.minusPoints"))+"\n          ")])],1),t._v(" "),e("Select",{staticClass:"mt:8",model:{value:t.form.task_id,callback:function(e){t.$set(t.form,"task_id",e)},expression:"form.task_id"}},t._l(t.tasks,(function(n){return e("option",{key:n.task_id,domProps:{value:n.task_id}},[t._v("\n            "+t._s(n.task_code)+"("+t._s(n.task_id)+")\n          ")])})),0),t._v(" "),e("Button",{staticClass:"m:2",on:{click:t.claimTaskPoints}},[t._v("\n          "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.buttons.claimTaskPoints"))+"\n        ")])],1):t._e()],1),t._v(" "),e("div",{staticClass:"mt:16 w:50% w:100%@<md flex-direction:column"},t._l(t.histories,(function(n){return e("div",{key:n.task_history_id,staticClass:"round drop-shadow p:16 m:8 flex justify-content:space-between"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"font-size:2em min-width:2rem text-align:right"},[t._v("\n            "+t._s(n.task_history_point)+"\n          ")]),t._v(" "),e("div",{staticClass:"font-size:1rem ml:16"},[n.task_code?e("div",[t._v("\n              "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.task_code"))+":\n              "+t._s(n.task_code)+"\n            ")]):t._e(),t._v(" "),n.task_history_data?e("div",[t._v("\n              "+t._s(t.$t("admin.tasks.manualPlusMinusPoint.fields.task_history_data"))+":\n              "+t._s(n.task_history_data)+"\n            ")]):t._e()])]),t._v(" "),e("div",{staticClass:"flex"},[t._v("\n          "+t._s(new Date(n.created_at).toLocaleString())+"\n        ")])])})),0)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loading:n(178).default,InputText:n(394).default,Field:n(395).default,Button:n(393).default,Select:n(396).default})}}]);